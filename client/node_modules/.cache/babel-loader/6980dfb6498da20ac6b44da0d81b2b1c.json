{"ast":null,"code":"import _toConsumableArray from\"/home/lukkstar/Desktop/quiz-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/lukkstar/Desktop/quiz-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Container from\"@material-ui/core/Container\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import Paper from\"@material-ui/core/Paper\";import APIService from\"../../service/APIService\";import{Button,Divider}from\"@material-ui/core\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import Select from\"@material-ui/core/Select\";import MenuItem from\"@material-ui/core/MenuItem\";var useStyles=makeStyles(function(theme){return{root:{\"& > *\":{margin:theme.spacing(1),width:\"25ch\"}},formControl:{margin:theme.spacing(1),minWidth:120},selectEmpty:{marginTop:theme.spacing(2)}};});export default function SimpleContainer(){var classes=useStyles();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),answer=_React$useState2[0],setAnswer=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),current=_React$useState4[0],setCurrent=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),level=_React$useState6[0],setLevel=_React$useState6[1];var handleChange=function handleChange(event){setLevel(event.target.value);};var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),point=_React$useState8[0],setPoint=_React$useState8[1];var _React$useState9=React.useState(),_React$useState10=_slicedToArray(_React$useState9,2),questions=_React$useState10[0],setquestions=_React$useState10[1];var _React$useState11=React.useState([]),_React$useState12=_slicedToArray(_React$useState11,2),allAnswers=_React$useState12[0],setAllAnswers=_React$useState12[1];var _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),complete=_React$useState14[0],setComplete=_React$useState14[1];var _React$useState15=React.useState(),_React$useState16=_slicedToArray(_React$useState15,2),categories=_React$useState16[0],setCategories=_React$useState16[1];var _React$useState17=React.useState(),_React$useState18=_slicedToArray(_React$useState17,2),chosenCategory=_React$useState18[0],setChosenCategory=_React$useState18[1];var handleAnswerChange=function handleAnswerChange(event){setAnswer(event.target.value);};var handleChooseCategoryChange=function handleChooseCategoryChange(event){setChosenCategory(event.target.value);};useEffect(function(){APIService.getCategories().then(function(res){setCategories(res.data);},[setCategories]);});var onStart=function onStart(){setCurrent(0);setComplete(false);setAnswer(\"\");setPoint(0);APIService.getQuestion(level,chosenCategory).then(function(res){setquestions(res.data);});};var onAnswer=function onAnswer(){setCurrent(current+1);setAnswer(\"\");if(answer.toLowerCase()===questions[current].answer.toLowerCase()){setPoint(point+2);}setAllAnswers([].concat(_toConsumableArray(allAnswers),[answer]));};var onComplete=function onComplete(){var all=[].concat(_toConsumableArray(allAnswers),[answer]);var result=point+2;if(answer.toLowerCase()===questions[current].answer.toLowerCase()){setPoint(result);}APIService.saveResult(result,level,chosenCategory).then(function(){setComplete(true);setAllAnswers(all);});};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CssBaseline,null),/*#__PURE__*/React.createElement(Container,{maxWidth:\"sm\",style:{backgroundColor:\"#fcba03\",height:\"85vh\",marginTop:\"15px\",paddingBottom:\"15px\"}},/*#__PURE__*/React.createElement(\"h2\",{style:{textAlign:\"center\"}},\"Lets Play\"),complete&&/*#__PURE__*/React.createElement(\"h2\",null,\"Score: \",point),/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Category\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-label\",value:chosenCategory,onChange:handleChooseCategoryChange},categories&&categories.map(function(cat,index){return/*#__PURE__*/React.createElement(MenuItem,{key:index,value:cat},cat);}))),/*#__PURE__*/React.createElement(FormControl,{className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-label\"},\"Difficulty\"),/*#__PURE__*/React.createElement(Select,{value:level,onChange:handleChange},/*#__PURE__*/React.createElement(MenuItem,{value:\"easy\"},\"Easy\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"normal\"},\"Normal\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"hard\"},\"Hard\"))),/*#__PURE__*/React.createElement(Button,{disabled:level===\"\",style:{background:\"white\"},onClick:onStart},\"Play\"),/*#__PURE__*/React.createElement(\"div\",null,questions&&questions.length>0&&/*#__PURE__*/React.createElement(Paper,null,/*#__PURE__*/React.createElement(\"p\",null,questions[current].question),/*#__PURE__*/React.createElement(TextField,{label:\"Write answer\",value:answer,fullWidth:true,onChange:handleAnswerChange}),current!==questions.length-1?/*#__PURE__*/React.createElement(Button,{onClick:onAnswer},\"Submit\"):/*#__PURE__*/React.createElement(Button,{onClick:onComplete},\"Finish\")))));}","map":{"version":3,"sources":["/home/lukkstar/Desktop/quiz-app/client/src/components/game/Game.js"],"names":["React","useEffect","CssBaseline","Container","makeStyles","TextField","Paper","APIService","Button","Divider","FormControl","InputLabel","Select","MenuItem","useStyles","theme","root","margin","spacing","width","formControl","minWidth","selectEmpty","marginTop","SimpleContainer","classes","useState","answer","setAnswer","current","setCurrent","level","setLevel","handleChange","event","target","value","point","setPoint","questions","setquestions","allAnswers","setAllAnswers","complete","setComplete","categories","setCategories","chosenCategory","setChosenCategory","handleAnswerChange","handleChooseCategoryChange","getCategories","then","res","data","onStart","getQuestion","onAnswer","toLowerCase","onComplete","all","result","saveResult","backgroundColor","height","paddingBottom","textAlign","map","cat","index","background","length","question"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Container from \"@material-ui/core/Container\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport APIService from \"../../service/APIService\";\nimport { Button, Divider } from \"@material-ui/core\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: \"25ch\",\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nexport default function SimpleContainer() {\n  const classes = useStyles();\n  const [answer, setAnswer] = React.useState(\"\");\n  const [current, setCurrent] = React.useState(0);\n\n  const [level, setLevel] = React.useState(\"\");\n  const handleChange = (event) => {\n    setLevel(event.target.value);\n  };\n  const [point, setPoint] = React.useState(0);\n  const [questions, setquestions] = React.useState();\n  const [allAnswers, setAllAnswers] = React.useState([]);\n  const [complete, setComplete] = React.useState(false);\n  const [categories, setCategories] = React.useState();\n  const [chosenCategory, setChosenCategory] = React.useState();\n\n  const handleAnswerChange = (event) => {\n    setAnswer(event.target.value);\n  };\n  const handleChooseCategoryChange = (event) => {\n    setChosenCategory(event.target.value);\n  };\n  useEffect(() => {\n    APIService.getCategories().then(\n      (res) => {\n        setCategories(res.data);\n      },\n      [setCategories]\n    );\n  });\n\n  const onStart = () => {\n    setCurrent(0);\n    setComplete(false);\n    setAnswer(\"\");\n    setPoint(0);\n    APIService.getQuestion(level, chosenCategory).then((res) => {\n      setquestions(res.data);\n    });\n  };\n\n  const onAnswer = () => {\n    setCurrent(current + 1);\n    setAnswer(\"\");\n    if (answer.toLowerCase() === questions[current].answer.toLowerCase()) {\n      setPoint(point + 2);\n    }\n\n    setAllAnswers([...allAnswers, answer]);\n  };\n  const onComplete = () => {\n    const all = [...allAnswers, answer];\n    const result = point + 2;\n    if (answer.toLowerCase() === questions[current].answer.toLowerCase()) {\n      setPoint(result);\n    }\n    APIService.saveResult(result, level, chosenCategory).then(() => {\n      setComplete(true);\n      setAllAnswers(all);\n    });\n  };\n\n  return (\n    <React.Fragment>\n      <CssBaseline />\n      <Container\n        maxWidth=\"sm\"\n        style={{\n          backgroundColor: \"#fcba03\",\n          height: \"85vh\",\n          marginTop: \"15px\",\n          paddingBottom: \"15px\",\n        }}\n      >\n        <h2 style={{ textAlign: \"center\" }}>Lets Play</h2>\n        {complete && <h2>Score: {point}</h2>}\n        <FormControl className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-label\">Category</InputLabel>\n          <Select\n            labelId=\"demo-simple-select-label\"\n            value={chosenCategory}\n            onChange={handleChooseCategoryChange}\n          >\n            {categories &&\n              categories.map((cat, index) => {\n                return (\n                  <MenuItem key={index} value={cat}>\n                    {cat}\n                  </MenuItem>\n                );\n              })}\n          </Select>\n        </FormControl>\n        <FormControl className={classes.formControl}>\n          <InputLabel id=\"demo-simple-select-label\">Difficulty</InputLabel>\n          <Select value={level} onChange={handleChange}>\n            <MenuItem value={\"easy\"}>Easy</MenuItem>\n            <MenuItem value={\"normal\"}>Normal</MenuItem>\n            <MenuItem value={\"hard\"}>Hard</MenuItem>\n          </Select>\n        </FormControl>\n        <Button\n          disabled={level === \"\"}\n          style={{ background: \"white\" }}\n          onClick={onStart}\n        >\n          Play\n        </Button>\n        <div>\n          {questions && questions.length > 0 && (\n            <Paper>\n              <p>{questions[current].question}</p>\n              <TextField\n                label=\"Write answer\"\n                value={answer}\n                fullWidth\n                onChange={handleAnswerChange}\n              />\n              {current !== questions.length - 1 ? (\n                <Button onClick={onAnswer}>Submit</Button>\n              ) : (\n                <Button onClick={onComplete}>Finish</Button>\n              )}\n            </Paper>\n          )}\n        </div>\n      </Container>\n    </React.Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}